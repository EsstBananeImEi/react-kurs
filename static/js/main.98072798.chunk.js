(this["webpackJsonpbook-monkey"]=this["webpackJsonpbook-monkey"]||[]).push([[0],{113:function(e,t,c){e.exports={bookForm:"BookForm_bookForm__dkPHT"}},153:function(e,t,c){},221:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),i=c(13),r=c.n(i),a=(c(86),c(10)),o=c(7),l=c(79),u=c.n(l),j=c(41);function b(e){return!!("object"===typeof e&&e.isbn&&e.title&&e.authors&&e.published)}function d(e){return Object(j.a)(Object(j.a)({},e),{},{published:new Date(e.published)})}var h=c(124);function O(e,t,c){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};h.b.config({duration:1.5});var s="https://api3.angular-buch.com";u()({method:e,url:"".concat(s).concat(t),data:n}).catch((function(e){return h.b.error("keine Verbindung zu ".concat(s).concat(t))})).then((function(t){c(t.data),h.b.success("SUCCESS ".concat(e))}))}function x(e,t){var c=Object(n.useState)(),s=Object(o.a)(c,2),i=s[0],r=s[1];return Object(n.useEffect)((function(){O(e,t,r)}),[e,t]),[i,r]}u.a.interceptors.response.use((function(e){return e.data&&(Array.isArray(e.data)?e.data.every(b)&&(e.data=e.data.map((function(e){return d(e)}))):e.data=d(e.data)),e}),(function(e){return Promise.reject(e)}));var m=c(1);function p(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),s=c[0],i=c[1],r=Object(n.useState)(""),l=Object(o.a)(r,2),u=l[0],j=l[1],b=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(n.useRef)(null),r=function(e){i.current&&!i.current.contains(e.target)&&s(!1)},a=function(e){i.current&&i.current.contains(e.target)&&s(!0)};return Object(n.useEffect)((function(){document.addEventListener("click",r,!0),document.addEventListener("click",a,!0)}),[]),[i,c,s]}(),d=Object(o.a)(b,3),h=d[0],x=d[1],p=d[2],g=function(){p(!1),j("")};return Object(m.jsxs)("div",{ref:h,className:"ui search ".concat(e.className),children:[Object(m.jsxs)("div",{className:"ui icon input",children:[Object(m.jsx)("input",{type:"text",className:"prompt",value:u,onChange:function(e){j(e.target.value),u.length>0&&" "!=u&&O("GET","/books/search/".concat(u.trim()),i)}}),Object(m.jsx)("i",{className:"search icon"})]}),x&&Object(m.jsx)("div",{className:"results transition ".concat(s.length>0&&"visible"),children:s.map((function(e,t){return Object(m.jsxs)(a.b,{onClick:g,className:"result",to:"/books/".concat(e.isbn),children:[e.title,Object(m.jsx)("p",{className:"description",children:e.subtitle?e.subtitle:""})]},t)}))})]})}function g(){return Object(m.jsxs)("div",{className:"ui menu",children:[Object(m.jsx)(a.c,{to:"/react-kurs",className:"item",children:"Home"}),Object(m.jsx)(a.c,{exact:!0,to:"/books",className:"item",children:"B\xfccher"}),Object(m.jsx)(a.c,{to:"/books/new",className:"item",children:"Neues Buch Anlegen"}),Object(m.jsx)(a.c,{to:"/clock",className:"item",children:"Uhr"}),Object(m.jsx)(a.c,{to:"/misc",className:"item",children:"Misc"}),Object(m.jsx)(p,{className:"item right"})]})}function f(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g,{}),Object(m.jsx)("div",{className:"ui container",children:e.children})]})}var v=c(8),k=c(59),N=c(33),y=c(113),C=c.n(y);function S(e){var t=Object(v.g)(),c=Object(n.useState)(e.isbn),s=Object(o.a)(c,2),i=s[0],r=s[1],a=Object(n.useState)(e.title),l=Object(o.a)(a,2),u=l[0],b=l[1],d=Object(n.useState)(e.authors),h=Object(o.a)(d,2),x=h[0],p=h[1],g=Object(n.useState)(e.subtitle?e.subtitle:""),f=Object(o.a)(g,2),y=f[0],S=f[1],B=Object(n.useState)(e.rating?e.rating:0),w=Object(o.a)(B,2),E=w[0],_=(w[1],Object(n.useState)(e.thumbnails?e.thumbnails:[{url:"",title:""}])),T=Object(o.a)(_,2),F=T[0],D=T[1],L=Object(n.useState)(e.description?e.description:""),A=Object(o.a)(L,2),P=A[0],I=A[1],M=Object(n.useState)(e.published),G=Object(o.a)(M,2),q=G[0],z=G[1],R=function(){return t.push("/books")},U=function(){return t.push("/books/".concat(i))},H=function(e,t,c){D((function(n){var s=Object(N.a)(n);return s[e]=Object(j.a)(Object(j.a)({},s[e]),{},Object(k.a)({},t,c)),s}))};return Object(m.jsxs)("form",{className:"ui form ".concat(C.a.bookForm),onSubmit:function(t){var c=e.isEdit?["PUT","/book/".concat(i),U]:["POST","/books/",R],n=Object(o.a)(c,3),s=n[0],r=n[1],a=n[2];t.preventDefault(),O(s,r,a,{isbn:i,title:u,authors:x,subtitle:y,thumbnails:F,description:P,published:q,rating:E})},children:[Object(m.jsx)("label",{children:"Buchtitel"}),Object(m.jsx)("input",{placeholder:"Titel",value:u,required:!0,onChange:function(e){return b(e.target.value)}}),Object(m.jsx)("label",{children:"Untertitel"}),Object(m.jsx)("input",{placeholder:"Subtitle",value:y,onChange:function(e){return S(e.target.value)}}),Object(m.jsx)("label",{children:"Isbn"}),Object(m.jsx)("input",{type:"number",pattern:"\\d{9}|\\d{11}",required:!0,disabled:e.isEdit,placeholder:"Isbn",value:i,onChange:function(e){return r(e.target.value)}}),Object(m.jsx)("label",{children:"Erscheinungsdatum"}),Object(m.jsx)("input",{placeholder:"Published",value:q,required:!0,type:"date",onChange:function(e){return z(e.target.value)}}),Object(m.jsx)("label",{children:"Authoren"}),Object(m.jsx)("button",{onClick:function(){return p((function(e){return[].concat(Object(N.a)(e),[""])}))},className:"ui mini button",type:"button",children:"+"}),Object(m.jsx)("button",{disabled:1===x.length,onClick:function(){p((function(e){var t=Object(N.a)(e);return t.length>1&&t.pop(),t}))},className:"ui mini button",type:"button",children:"-"}),x.map((function(e,t){return Object(m.jsx)("div",{className:"fields",children:Object(m.jsx)("div",{className:"sixteen wide field",children:Object(m.jsx)("input",{value:e,required:!0,placeholder:"author",onChange:function(e){return function(e,t){p((function(c){var n=Object(N.a)(c);return n[e]=t,n}))}(t,e.target.value)}})})},t)})),Object(m.jsx)("label",{children:"Beschreibung"}),Object(m.jsx)("input",{placeholder:"Description",value:P,onChange:function(e){return I(e.target.value)}}),Object(m.jsx)("label",{children:"Bilder"}),Object(m.jsx)("button",{onClick:function(){return D((function(e){return[].concat(Object(N.a)(e),[{url:"",title:""}])}))},className:"ui mini button",type:"button",children:"+"}),Object(m.jsx)("button",{disabled:1===F.length,onClick:function(){D((function(e){var t=Object(N.a)(e);return t.length>1&&t.pop(),t}))},className:"ui mini button",type:"button",children:"-"}),F.map((function(e,t){return Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("input",{type:"url",placeholder:"Url",className:"nine wide field",value:e.url,onChange:function(e){return H(t,"url",e.target.value)}}),Object(m.jsx)("input",{placeholder:"Titel",className:"seven wide field",value:e.title,onChange:function(e){return H(t,"title",e.target.value)}})]},t)})),Object(m.jsx)("button",{className:"ui button",children:"Submit"})]})}function B(){return Object(m.jsx)(S,{isbn:"",title:"",authors:[""],published:"",isEdit:!1})}function w(e){return Object(m.jsx)("div",{className:"ui active inverted dimmer",children:Object(m.jsxs)("div",{className:"ui text loader massive",children:["Lade ",e.message||"Daten"]})})}var E=c(223);c(153);function _(){var e=Object(v.h)().isbn,t=Object(v.g)(),c=x("GET","/book/".concat(e)),n=Object(o.a)(c,1)[0];if(!n)return Object(m.jsx)(w,{message:"Buch ".concat(e)});var s=function(){return t.push("/books")};return Object(m.jsxs)("div",{className:"ui raised padded container segment",children:[Object(m.jsx)("h1",{children:n.title}),Object(m.jsx)("h3",{children:n.subtitle}),Object(m.jsx)("div",{className:"ui divider"}),Object(m.jsxs)("div",{className:"ui grid",children:[Object(m.jsxs)("div",{className:"four wide column",children:[Object(m.jsx)("h4",{children:"Authoren"}),n.authors.map((function(e,t){return Object(m.jsx)("p",{children:e},t)}))]}),Object(m.jsxs)("div",{className:"four wide column",children:[Object(m.jsx)("h4",{children:"ISBN"}),n.isbn]}),Object(m.jsxs)("div",{className:"four wide column",children:[Object(m.jsx)("h4",{children:"Erschienen"}),n.published.toLocaleDateString()]}),Object(m.jsxs)("div",{className:"four wide column",children:[Object(m.jsx)("h4",{children:"Rating"}),new Array(n.rating).fill(!0).map((function(e,t){return Object(m.jsx)("i",{className:"yellow star icon"},t)}))]})]}),Object(m.jsx)("h4",{style:{marginTop:20},children:"Beschreibung"}),Object(m.jsx)("p",{children:n.description}),Object(m.jsx)("div",{className:"ui small images",children:!!(n.thumbnails&&n.thumbnails.length>0)&&n.thumbnails.map((function(e,t){return Object(m.jsx)("img",{alt:n.title,src:e.url},t)}))}),Object(m.jsx)("button",{onClick:s,className:"ui button",children:"zur\xfcck zur Buchliste"}),Object(m.jsx)("button",{onClick:function(){return t.push("/books/".concat(e,"/edit"))},className:"ui button blue",children:"Buch Bearbeiten"}),Object(m.jsx)(E.a,{title:"M\xf6chtest du dieses Buch wirklich l\xf6schen?",onConfirm:function(){return O("DELETE","/book/".concat(e),s)},okText:"Ja",cancelText:"Nein",children:Object(m.jsx)("button",{className:"ui button red",children:"Buch L\xf6schen!"})})]})}function T(){var e=Object(v.h)().isbn,t=x("GET","/books/".concat(e)),c=Object(o.a)(t,1)[0];if(!c)return Object(m.jsx)(w,{message:"Buch ".concat(e)});return Object(m.jsx)(S,{isbn:c.isbn,title:c.title,authors:c.authors,subtitle:c.subtitle,rating:String(c.rating),thumbnails:c.thumbnails,description:c.description,published:function(e){var t=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getMonth()).padStart(2,"0");return"".concat(t,"-").concat(c,"-").concat(n)}(c.published),isEdit:!0})}function F(e){var t=e.book;return Object(m.jsxs)(a.b,{to:"/books/".concat(t.isbn),className:"item ui raised padded container segment",children:[Object(m.jsx)("img",{className:"ui tiny image",alt:t.title,src:t.thumbnails&&t.thumbnails.length>0?t.thumbnails[0].url:""}),Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("div",{className:"header",children:t.title}),Object(m.jsx)("div",{className:"description",children:t.subtitle}),Object(m.jsxs)("div",{className:"metadata",children:[t.authors.map((function(e,c){return Object(m.jsxs)("span",{id:"metadata "+e,children:[e,c!==t.authors.length-1&&", "]},c)})),Object(m.jsx)("br",{}),"ISBN ",t.isbn]})]})]},t.isbn)}var D=function(){var e=x("GET","/books"),t=Object(o.a)(e,2),c=t[0],n=t[1];return c?Object(m.jsx)("div",{className:"ui middle aligned selection divided list",children:0!==c.length?c.map((function(e){return Object(m.jsx)(F,{book:e},e.isbn)})):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"ui message red",children:Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("p",{children:"Es wurden keine B\xfccher gefunden"}),Object(m.jsxs)("button",{className:"ui button red",onClick:function(){O("DELETE","/books",(function(){O("GET","/books",n)}))},children:[Object(m.jsx)("i",{className:"sync alternate icon"}),"Zur\xfccksetzen"]})]})})})}):Object(m.jsx)(w,{message:"Buchliste ..."})};var L=c(31),A=c.n(L);function P(){var e,t=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],s=t[1];return[c,Object(n.useCallback)((function(){var e=new Date,t=(e.getHours()+11)%12+1,c=e.getMinutes(),n=e.getSeconds();s({hour:30*t,minute:6*c,second:6*n})}),[])]}(),c=Object(o.a)(t,2),s=c[0],i=c[1];return e=i,Object(n.useEffect)((function(){var t=window.setInterval(e,1e3);return function(){window.clearInterval(t)}}),[e]),s?Object(m.jsx)("div",{className:A.a.body,children:Object(m.jsx)("div",{className:A.a.clock,children:Object(m.jsxs)("div",{className:A.a.wrap,children:[Object(m.jsx)("span",{className:A.a.hour,style:{transform:"rotate(".concat(s.hour,"deg)")}}),Object(m.jsx)("span",{className:A.a.minute,style:{transform:"rotate(".concat(s.minute,"deg)")}}),Object(m.jsx)("span",{className:A.a.second,style:{transform:"rotate(".concat(s.second,"deg)")}}),Object(m.jsx)("span",{className:A.a.dot})]})})}):Object(m.jsx)(w,{message:"Clock"})}var I=c(224);function M(){var e=Object(I.a)();return console.log(e),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Home"}),Object(m.jsx)("p",{children:"Dies ist die BookMonkey umsetzung in React"}),Object(m.jsx)("div",{children:Object(m.jsxs)(a.b,{to:"books",className:"ui red button",children:["Buchliste ansehen",Object(m.jsx)("i",{className:"right arrow icon"})]})}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:Object(m.jsx)(p,{})})]})}function G(){var e=Object(I.a)();return e.isSupported?e.fetched?Object(m.jsxs)("div",{className:"ui raised padded container segment",children:[Object(m.jsx)("h1",{style:{textAlign:"center"},children:"Battery Status"}),Object(m.jsx)("strong",{children:"Battery sensor"}),":\xa0\xa0 ",Object(m.jsx)("span",{children:"supported"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("strong",{children:"Battery state"}),": ",Object(m.jsx)("span",{children:"fetched"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("strong",{children:"Charge level"}),":\xa0\xa0 ",Object(m.jsxs)("span",{children:[(100*e.level).toFixed(0),"%"]})," ",Object(m.jsx)("br",{}),Object(m.jsx)("strong",{children:"Charging"}),":\xa0\xa0 ",Object(m.jsx)("span",{children:e.charging?"yes":"no"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("strong",{children:"Charging time"}),":\xa0\xa0",Object(m.jsx)("span",{children:e.chargingTime?e.chargingTime:"finished"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("strong",{children:"Discharging time"}),":\xa0\xa0 ",Object(m.jsx)("span",{children:e.dischargingTime})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("strong",{children:"Battery sensor"}),": ",Object(m.jsx)("span",{children:"supported"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("strong",{children:"Battery state"}),": ",Object(m.jsx)("span",{children:"fetching"})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("strong",{children:"Battery sensor"}),": ",Object(m.jsx)("span",{children:"not supported"})]})}function q(){return Object(m.jsxs)(v.d,{children:[Object(m.jsx)(v.b,{path:"/books/:isbn/edit",children:Object(m.jsx)(T,{})}),Object(m.jsx)(v.b,{path:"/books/new",children:Object(m.jsx)(B,{})}),Object(m.jsx)(v.b,{path:"/books/:isbn",children:Object(m.jsx)(_,{})}),Object(m.jsx)(v.b,{path:"/books",children:Object(m.jsx)(D,{})}),Object(m.jsx)(v.b,{path:"/misc",children:Object(m.jsx)(G,{})}),Object(m.jsx)(v.b,{path:"/clock",children:Object(m.jsx)(P,{})}),Object(m.jsx)(v.b,{path:"/react-kurs",children:Object(m.jsx)(M,{})}),Object(m.jsx)(v.b,{path:"/",children:Object(m.jsx)(v.a,{to:"/react-kurs"})})]})}function z(){return Object(m.jsx)(a.a,{children:Object(m.jsx)(f,{children:Object(m.jsx)(q,{})})})}var R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,225)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root")),R()},31:function(e,t,c){e.exports={body:"Clock_body__he3iR",clock:"Clock_clock__1aqhO",wrap:"Clock_wrap__1P4A3",minute:"Clock_minute__1FMLP",hour:"Clock_hour__1ys2G",second:"Clock_second__2GRAs",dot:"Clock_dot__3kpDq"}},86:function(e,t,c){}},[[221,1,2]]]);
//# sourceMappingURL=main.98072798.chunk.js.map